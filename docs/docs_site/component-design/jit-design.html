<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>jit-design</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">jit-design</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#fireball-jit-コンパイラ設計"
id="toc-fireball-jit-コンパイラ設計">Fireball JIT コンパイラ設計</a>
<ul>
<li><a href="#概要" id="toc-概要">概要</a></li>
<li><a href="#アーキテクチャ要約" id="toc-アーキテクチャ要約">1.
アーキテクチャ（要約）</a></li>
<li><a href="#目的とスコープ明確化" id="toc-目的とスコープ明確化">2.
目的とスコープ（明確化）</a></li>
<li><a href="#テンプレート展開パッチ方式詳細"
id="toc-テンプレート展開パッチ方式詳細">3.
テンプレート展開＋パッチ方式（詳細）</a>
<ul>
<li><a href="#概要-1" id="toc-概要-1">3.1 概要</a></li>
<li><a href="#構成要素" id="toc-構成要素">3.2 構成要素</a></li>
<li><a href="#テンプレート設計ガイドライン"
id="toc-テンプレート設計ガイドライン">3.3
テンプレート設計ガイドライン</a></li>
<li><a href="#展開手順アルゴリズム" id="toc-展開手順アルゴリズム">3.4
展開手順（アルゴリズム）</a></li>
<li><a href="#パッチの種類例" id="toc-パッチの種類例">3.5
パッチの種類（例）</a></li>
<li><a href="#実行メモリ管理" id="toc-実行メモリ管理">3.6
実行メモリ管理</a></li>
</ul></li>
<li><a href="#コンパイル制御ポリシー安全策"
id="toc-コンパイル制御ポリシー安全策">4.
コンパイル制御ポリシー（安全策）</a></li>
<li><a href="#テスト検証計画verification-plan"
id="toc-テスト検証計画verification-plan">5.
テスト・検証計画（Verification Plan）</a>
<ul>
<li><a href="#単体テストunit" id="toc-単体テストunit">5.1
単体テスト（Unit）</a></li>
<li><a href="#統合テストintegration" id="toc-統合テストintegration">5.2
統合テスト（Integration）</a></li>
<li><a href="#回帰テストregression" id="toc-回帰テストregression">5.3
回帰テスト（Regression）</a></li>
<li><a href="#性能テストperformance" id="toc-性能テストperformance">5.4
性能テスト（Performance）</a></li>
<li><a href="#セキュリティ堅牢性テスト"
id="toc-セキュリティ堅牢性テスト">5.5
セキュリティ・堅牢性テスト</a></li>
<li><a href="#フォーマル静的解析可能な範囲で"
id="toc-フォーマル静的解析可能な範囲で">5.6
フォーマル/静的解析（可能な範囲で）</a></li>
<li><a href="#テスト自動化" id="toc-テスト自動化">5.7
テスト自動化</a></li>
</ul></li>
<li><a href="#受入基準acceptance-criteria"
id="toc-受入基準acceptance-criteria">6. 受入基準（Acceptance
Criteria）</a></li>
<li><a href="#リスクと緩和策" id="toc-リスクと緩和策">7.
リスクと緩和策</a></li>
<li><a href="#実装チェックリスト更新" id="toc-実装チェックリスト更新">8.
実装チェックリスト（更新）</a></li>
<li><a href="#参考資料" id="toc-参考資料">9. 参考資料</a></li>
<li><a href="#付録-テンプレートメタデータ-例"
id="toc-付録-テンプレートメタデータ-例">10. 付録: テンプレートメタデータ
例</a></li>
</ul></li>
</ul>
</nav>
<h1 id="fireball-jit-コンパイラ設計">Fireball JIT コンパイラ設計</h1>
<p><strong>Version:</strong> 0.2.0<br />
<strong>Date:</strong> 2025-12-02<br />
<strong>Author:</strong> Takuya Matsunaga / Cline (補完)</p>
<hr />
<h2 id="概要">概要</h2>
<p>Fireball JIT コンパイラは、WebAssembly
モジュールのホットパス加速を目的としたバックグラウンドコンパイルシステムです。インタプリタは実行を継続しつつ、JIT
が非同期でコンパイルを行い、低レイテンシかつ検証可能なネイティブコードを提供します。</p>
<p>本設計は既存の <code>docs/component-design/jit-design.md</code>
を拡張し、特に「テンプレートをヒープに展開しパッチを当てる方式（テンプレート展開＋パッチ）」の具体的手順、制約、そして検証計画を明確にします。JIT
の目的は厳格に以下の二点に限定されます。</p>
<ul>
<li>①
命令のデコードの削除（インタプリタのデコードオーバーヘッド排除）<br />
</li>
<li>② 分岐予測が外れる可能性が高い分岐の除去（ミス予測コスト低減）</li>
</ul>
<p>JIT
は基本的な算術演算を除き、分岐予測が効くランタイムAPI呼び出し（vSoC
呼び出しなど）をコンパイルするに留め、複雑な機械語最適化は行いません。具体的な生成方式は「テンプレート展開＋パッチ当て」を採用します。</p>
<hr />
<h2 id="アーキテクチャ要約">1. アーキテクチャ（要約）</h2>
<p>（既存内容を踏襲） - JIT は vSoC
内蔵、バックグラウンドコルーチンで動作 - ホットパス追跡 →
コンパイル要求キュー → バックグラウンドワーカーでコンパイル →
コンパイル済みコードをキャッシュ -
インタープリタは待たない（非プリエンプティブ）</p>
<hr />
<h2 id="目的とスコープ明確化">2. 目的とスコープ（明確化）</h2>
<ul>
<li>目的: 命令デコード削除と高ミス分岐除去による低レイテンシ化。</li>
<li>スコープ（何をやるか／やらないか）:
<ul>
<li>行う:
テンプレート展開＋パッチでのコード生成、基本算術命令のインライン、分岐の再構成（条件反転、予測に依存した順序化など）。</li>
<li>行わない:
高度な数値最適化（ループ変換、自動ベクトル化等）、アグレッシブなインライン拡張による大規模最適化。</li>
</ul></li>
</ul>
<hr />
<h2 id="テンプレート展開パッチ方式詳細">3.
テンプレート展開＋パッチ方式（詳細）</h2>
<h3 id="概要-1">3.1 概要</h3>
<p>JIT は「コードテンプレート（prebuilt binary
sequences）」をライブラリとして保持し、コンパイル対象関数の構造に合わせてテンプレートをヒープ上に展開し、固定箇所（オフセット）に対して必要なパッチ（定数置換、アドレス書換、分岐先書換）を行うことでネイティブ実行可能なコードを生成します。</p>
<p>この方式の利点: - 生成パスがシンプルで検証が容易 -
高度なバックエンド最適化が不要なため設計リスクが低い -
生成レイテンシが小さく抑えられる</p>
<h3 id="構成要素">3.2 構成要素</h3>
<ul>
<li>テンプレートライブラリ: CPU アーキテクチャ別（ARM Thumb-2 /
RISC-V）に用意された小さなバイナリスニペット集合</li>
<li>テンプレートメタデータ:
各テンプレートのパッチ可能オフセット、定数型（32bit/64bit）、分岐ラベル情報</li>
<li>展開エンジン:
ヒープにテンプレートをコピーし、パッチを適用して実行可能領域へ配置</li>
<li>パッチテーブル: パッチ箇所と置換データのリスト</li>
<li>検証モジュール: 生成コードの整合性チェック（サニティチェック、hash
検証）</li>
</ul>
<h3 id="テンプレート設計ガイドライン">3.3
テンプレート設計ガイドライン</h3>
<ul>
<li>テンプレートは短く、単一責務（例:
加算／ロード／ストア／呼び出しラッパー）</li>
<li>分岐はテンプレート内で現実的に扱える形に限定（条件フラグの読み書きを外部化）</li>
<li>テンプレートはアラインメント済みで、パッチ可能な箇所は明確にマーク</li>
<li>テンプレートメタデータはバージョン管理（テンプレート版）を付与</li>
</ul>
<h3 id="展開手順アルゴリズム">3.4 展開手順（アルゴリズム）</h3>
<ol type="1">
<li>コンパイル要求を dequeuing → function/pc を取得</li>
<li>関数のバイトコード解析（簡易）：命令ストリームを解析し、テンプレートの組合せを決定（テンプレートマッチング）</li>
<li>テンプレートヒープ展開:
<ul>
<li>必要テンプレートを順にヒープ上へ memcpy</li>
<li>メタデータに基づきパッチ箇所を記録</li>
</ul></li>
<li>パッチ適用:
<ul>
<li>定数（immediate）、アドレス、分岐先オフセットを書き込む</li>
<li>呼び出し先は vSoC
のエントリーポイントへ直接分岐指示に置換（分岐予測を意識）</li>
</ul></li>
<li>生成コードの整合性チェック:
<ul>
<li>サニティチェック（整合的アドレス、命令エンコーディングの妥当性）</li>
<li>Optional: 簡易ハッシュ / CRC を計算して維持</li>
</ul></li>
<li>キャッシュ挿入:
<ul>
<li>compiled_code_cache に挿入（LRU 方針）</li>
</ul></li>
<li>インタプリタへの切替え:
<ul>
<li>次回実行時に lookup
で見つかればネイティブコードへ分岐（ジャンプテーブルで切替え）</li>
</ul></li>
</ol>
<h3 id="パッチの種類例">3.5 パッチの種類（例）</h3>
<ul>
<li>Immediate constant 書換（定数乗算の係数等）</li>
<li>分岐先アドレス書換（relative jump target）</li>
<li>データポインタ置換（ロード元アドレス）</li>
<li>呼び出しラッパーの差替え（vSoC 経由の syscalls
を直接呼ぶ短絡コードへ）</li>
</ul>
<h3 id="実行メモリ管理">3.6 実行メモリ管理</h3>
<ul>
<li>生成コードは実行可能ページ（RX）へ配置。配置時にキャッシュフラッシュ（ICache）/同期を行う。</li>
<li>生成領域は code_cache
が管理。解放時はページを無効化して再利用。</li>
</ul>
<hr />
<h2 id="コンパイル制御ポリシー安全策">4.
コンパイル制御ポリシー（安全策）</h2>
<ul>
<li>コンパイルキューサイズ・同時コンパイル数を制限（デフォルト: キュー
32, ワーカー 1-2）</li>
<li>コンパイルはインタプリタ優先。バックグラウンドで実行し、ユーザータスクのレイテンシを阻害しない。</li>
<li>生成コードのメモリ上限（合計サイズ）を設け、超過時は LRU
でエビクト。</li>
<li>生成コードは read-only + execute
権限で配置。書き換えは不可（整合性保証）。</li>
<li>失敗時は明示的にフォールバック（インタプリタに戻す）。ただし設計としてはフォールバック発生が稀なことを目標とする。</li>
</ul>
<hr />
<h2 id="テスト検証計画verification-plan">5.
テスト・検証計画（Verification Plan）</h2>
<p>目的: JIT
の安全性・整合性・性能改善を事前に検証し、設計リスクを排除する。</p>
<h3 id="単体テストunit">5.1 単体テスト（Unit）</h3>
<ul>
<li>テンプレート展開ユニット:
各テンプレートのパッチ処理検証（境界値、異常値）</li>
<li>パッチ適用ユニット: オフセット整合性、書込後の命令バイナリ検査</li>
<li>サニティチェック: 不正なアドレス/オフセットを検出するテスト</li>
</ul>
<h3 id="統合テストintegration">5.2 統合テスト（Integration）</h3>
<ul>
<li>インタプリタ＋JIT 統合シナリオ:
<ul>
<li>小関数のヒント→コンパイル→実行切替が正しく行われる</li>
<li>vSoC 呼び出しを含む関数の JIT 化と実行検証</li>
</ul></li>
<li>エラー注入テスト:
<ul>
<li>コンパイル中断、テンプレート不足、パッチ不整合時に正しくフォールバックする</li>
</ul></li>
</ul>
<h3 id="回帰テストregression">5.3 回帰テスト（Regression）</h3>
<ul>
<li>既存のインタプリタ実行が JIT によって壊れないことを確認</li>
<li>JIT の有効/無効切替テストスイート</li>
</ul>
<h3 id="性能テストperformance">5.4 性能テスト（Performance）</h3>
<ul>
<li>ベンチマークセット:
代表的な小・中・大関数でコンパイル前後の実行時間比較</li>
<li>レイテンシ計測: JIT
キューイング時間、バックグラウンドコンパイル時間、切替オーバーヘッド</li>
<li>メモリ測定: code_cache 使用量、テンプレートヒープ使用量</li>
</ul>
<h3 id="セキュリティ堅牢性テスト">5.5 セキュリティ・堅牢性テスト</h3>
<ul>
<li>不正入力（破壊的 WASM）に対する JIT の耐性（サニティチェック）</li>
<li>実行可能領域の実行権限チェック、改ざん検出</li>
</ul>
<h3 id="フォーマル静的解析可能な範囲で">5.6
フォーマル/静的解析（可能な範囲で）</h3>
<ul>
<li>テンプレートメタデータの整合性チェックを静的解析で検証</li>
<li>生成ロジックに対するトレースベースの形式検証（重要箇所）</li>
</ul>
<h3 id="テスト自動化">5.7 テスト自動化</h3>
<ul>
<li>CI パイプラインにユニット・統合・性能テストを組込む</li>
<li>必須: nightly ビルドで JIT
を有効にしたテストを回す（レグレッション検出）</li>
</ul>
<hr />
<h2 id="受入基準acceptance-criteria">6. 受入基準（Acceptance
Criteria）</h2>
<ul>
<li>JIT 適用後の機能合致:
生成コードでの結果がインタプリタ実行と一致（全テストパス成功）</li>
<li>レイテンシ向上: 代表ベンチにて 1.5x 以上の高速化（O0
前提）を確認（ケースに依る）</li>
<li>レイテンシデグレ: JIT
がオンであっても短期的なレイテンシがインタプリタ比で劣化しないこと（例:
p99 レイテンシ差 &lt; 5%）</li>
<li>整合性: 生成コードのサニティ検査に合格、CI で自動検証</li>
<li>メモリ制約: code_cache + templates
の合計がプラットフォーム予算内に収まること（例: 16KB ターゲット）</li>
</ul>
<hr />
<h2 id="リスクと緩和策">7. リスクと緩和策</h2>
<ul>
<li>リスク: テンプレート不一致やパッチミスによる実行崩壊<br />
緩和: 厳格なサニティチェック、CI テスト、生成コードの checksum 検査</li>
<li>リスク: JIT
のコンパイルレイテンシが高く、バックグラウンドでシステムを圧迫<br />
緩和: コンパイル
QoS（ワーカー数/優先度制御）、キューサイズ制限、低優先度実行</li>
<li>リスク: コード注入・改ざん<br />
緩和: 実行可能領域の権限付与の最小化、生成時の検証</li>
<li>リスク: 検証不足による仕様逸脱<br />
緩和: 自動テストカバレッジ目標の設定、性能/回帰テストを必須化</li>
</ul>
<hr />
<h2 id="実装チェックリスト更新">8. 実装チェックリスト（更新）</h2>
<ul class="task-list">
<li><label><input type="checkbox" />テンプレートライブラリ定義（ARM /
RISC-V）</label></li>
<li><label><input
type="checkbox" />テンプレートメタデータフォーマット</label></li>
<li><label><input
type="checkbox" />テンプレート展開エンジン（ヒープ展開、パッチ適用）</label></li>
<li><label><input type="checkbox" />サニティ検証モジュール</label></li>
<li><label><input type="checkbox" />compiled_code_cache
実装（挿入・検索・evict）</label></li>
<li><label><input
type="checkbox" />バックグラウンドコンパイルワーカー実装</label></li>
<li><label><input type="checkbox" />builtin_jit_*
組込みAPI実装</label></li>
<li><label><input type="checkbox" />CI
テストの整備（ユニット・統合・性能）</label></li>
<li><label><input type="checkbox" />ドキュメント（開発者向け）:
テンプレート作成ガイド、パッチルール</label></li>
</ul>
<hr />
<h2 id="参考資料">9. 参考資料</h2>
<ul>
<li>docs/specifications/overview.md — JIT の高レベル方針（ADR-005）</li>
<li>docs/analysis/safety-model.md — Safety Model と ISR/JIT
のインタラクション</li>
<li>docs/component-design/vsoc.md — vSoC の設計（参照）</li>
<li>ARM/RISC-V コード生成参考資料（内部リンク）</li>
</ul>
<hr />
<h2 id="付録-テンプレートメタデータ-例">10. 付録: テンプレートメタデータ
例</h2>
<div class="sourceCode" id="cb1"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;template_id&quot;</span><span class="fu">:</span> <span class="st">&quot;load_call_wrapper_v1&quot;</span><span class="fu">,</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;arch&quot;</span><span class="fu">:</span> <span class="st">&quot;arm-thumb2&quot;</span><span class="fu">,</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;size&quot;</span><span class="fu">:</span> <span class="dv">48</span><span class="fu">,</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;patch_points&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span> <span class="dt">&quot;offset&quot;</span><span class="fu">:</span> <span class="dv">8</span><span class="fu">,</span> <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;imm32&quot;</span> <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span> <span class="dt">&quot;offset&quot;</span><span class="fu">:</span> <span class="dv">20</span><span class="fu">,</span> <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;rel_jmp&quot;</span> <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span> <span class="dt">&quot;offset&quot;</span><span class="fu">:</span> <span class="dv">32</span><span class="fu">,</span> <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;addr32&quot;</span> <span class="fu">}</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="dv">1</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
</body>
</html>
